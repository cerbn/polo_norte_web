{% extends 'app/base.html' %}

{% block title %}Perfil de Usuario - Ventas e Intercambios{% endblock %}

{% block contenido %}
<div class="container-fluid">
    <div class="row">
        <!-- Menú lateral -->
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="position-sticky">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active"style="color: black;" aria-current="page" href="#">
                            <span data-feather="home" ></span>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" style="color: black;">
                            <span data-feather="file"></span>
                            Gestión de Libros
                        </a>
                        <ul class="nav flex-column ml-3">
                            <li class="nav-item">
                                <a class="nav-link" href="#">Agregar Libro</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Ver Libros</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Editar Libro</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Eliminar Libro</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="shopping-cart"></span>
                            Gestión de Usuarios
                        </a>
                        <ul class="nav flex-column ml-3">
                            <li class="nav-item">
                                <a class="nav-link" href="#">Ver Usuarios</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Eliminar Usuario</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="users"></span>
                            Gestión de Comentarios
                        </a>
                        <ul class="nav flex-column ml-3">
                            <li class="nav-item">
                                <a class="nav-link" href="#">Ver Comentarios</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Eliminar Comentario</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="bar-chart-2"></span>
                            Estadísticas de Publicación
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Contenido principal -->
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Dashboard</h1>
            </div>

            <!-- Sección de gráficos y estadísticas -->
            <div class="row">
                <div class="col-md-6">
                    <h3>Libros Publicados</h3>
                    <canvas id="booksPublishedChart"></canvas>
                </div>
                <div class="col-md-6">
                    <h3>Usuarios Activos</h3>
                    <canvas id="activeUsersChart"></canvas>
                </div>
            </div>

            <!-- Sección de actividades recientes -->
            <h2>Actividades Recientes</h2>
            <div class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                        <tr>
                            <th>Usuario</th>
                            <th>Acción</th>
                            <th>Fecha</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Juan Pérez</td>
                            <td>Publicó un libro</td>
                            <td>2024-09-01</td>
                        </tr>
                        <tr>
                            <td>María López</td>
                            <td>Comentó en un libro</td>
                            <td>2024-09-01</td>
                        </tr>
                        <!-- Agrega más registros según sea necesario -->
                    </tbody>
                </table>
            </div>
        </main>
    </div>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Configuración de los gráficos del dashboard
    var ctx = document.getElementById('booksPublishedChart').getContext('2d');
    var booksPublishedChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril'],
            datasets: [{
                label: 'Libros Publicados',
                data: [12, 19, 3, 5],
                backgroundColor: '#007bff'
            }]
        }
    });

    var ctx2 = document.getElementById('activeUsersChart').getContext('2d');
    var activeUsersChart = new Chart(ctx2, {
        type: 'line',
        data: {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril'],
            datasets: [{
                label: 'Usuarios Activos',
                data: [50, 60, 70, 80],
                borderColor: '#007bff',
                fill: false
            }]
        }
    });
</script>
{% endblock %}
